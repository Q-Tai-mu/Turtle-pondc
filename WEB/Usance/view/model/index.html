<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
</head>
<style>
    ::-webkit-scrollbar-track-piece {
        /* //滚动条凹槽的颜色，还可以设置边框属性 */
        background-color: #e0e0e0;
        border-radius: 3px;
    }

    ::-webkit-scrollbar {
        /* //滚动条的宽度 */
        width: 5px;
        height: 5px;
    }

    ::-webkit-scrollbar-thumb {
        /* //滚动条的设置 */
        background-color: #cccccc;
        background-clip: padding-box;
        min-height: 22px;
        border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background-color: #cccccc;
    }

    .inner {
        /* border: 1px solid red; */
    }

    .two {
        /* border: 1px solid yellow; */
    }
</style>

<body style="margin:0;padding:4px; ">
    <div style="width: 100%; height: 100%;" id="app">
        <!-- 1行 有一个开关标识是九宫格还是列表 -->
        <div style="width: 100%;height: 123px;" class="inner" v-for="  num in number">
            <!-- 1列(九宫格模式) -->
            <div :style="{width:NineWide+'%',height:NineHigh+'%'}" v-if="pattern9">
                <div :style="{float: 'left',height: '100%',width:pageWidth+'%'}" v-if="ruto" v-for=" to in Total"
                    class="two">
                    <div
                        style="width: 100%; height: 75%; padding-left: 20%;padding-right: 20%;padding-top: 9%;padding-bottom: 9%;">
                        <div
                            style="background-color: #636478;width: 100%; height: 100%; text-align: center;border-radius:6px;padding-top: 35%;">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-braces" fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6zM13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6z" />
                            </svg>
                        </div>
                    </div>
                    <div style="width: 100%; height: 25%;text-align: center;font-size: 13px;">
                        脚本测试文件.js
                    </div>
                </div>
            </div>
            <!-- 1列(列表模式) -->
            <div :style="{width:ColumnWidth+'%',height:ColumnHeight+'%'}" v-if="patternL">
                <div :style="{width:'100%',height:pageHeight+'%'}" v-if="patternL" v-for=" to in Total "
                    style="padding: 1px;" class="two">
                    <div style="width: 100%;height: 100%;background-color: #e0edfe;">
                        <div style="height: 100%; width: 50%;float: left;">
                            <div style="height: 100%;width: 20%;float: left;">
                                <div
                                    style="width: 100%;height: 100%;padding-left: 25%;padding-right: 15%;padding-top: 6%;padding-bottom: 6%;">
                                    <div style="width: 100%;height: 100%;background-color: #2abb5e;border-radius: 6px;">
                                        <img src="../images/txt.jpg"
                                            style="width: 100%; height: 100%;border-radius: 6px;">
                                    </div>
                                </div>
                            </div>
                            <div style="height: 100%;width: 80%;float: left;">
                                <div style="height: 100%;width:10%;float: left;">
                                    <div style="width: 100%; height: 100%;padding-left: 40%;padding-top: 65%;">
                                        <div
                                            style="background-color: #f66757;width: 8px;height: 8px;border-radius:100%;">

                                        </div>
                                    </div>
                                </div>
                                <div
                                    style="height: 100%;width: 90%;float: left;text-align: left;padding-top: 4%;font-size: 14px;">
                                    一些想法.txt
                                </div>
                            </div>
                        </div>
                        <div style="height: 100%;width: 50%;float: left;">
                            <div style="height: 100%;width: 65%;float: left;">
                                <div style="height: 100%;width: 56.3%;float: left;">

                                </div>
                                <div
                                    style="height: 100%;width: 33.3%;float: left;text-align: center;font-size: 10px;padding-top: 6.7%;">
                                    12.36k
                                </div>
                                <div style="height: 100%;width: 10.3%;float: left;">

                                </div>
                            </div>
                            <div
                                style="height: 100%;width: 35%;float: left;text-align: center;font-size: 10px;padding-top: 4.2%;">
                                2020-11-08 16:18
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
    var app = new Vue({
        el: '#app',
        // Total 每行的列数 ，number 多少行，pageWidth 每列的宽度百分比，PageSizeH 相对于body的高度，PageSizeW相对于body的宽度，ruto 显示列
        data: {
            message: 'Hello Vue!',
            Total: 5,
            number: 13,
            pageWidth: 20,
            pageHeight: 33.3,
            PageSizeH: 0,
            PageSizeW: 0,
            ruto: true,
            pattern9: true,
            patternL: false,
            NineWide: 100,
            NineHigh: 100,
            ColumnHeight: 100,
            ColumnWidth: 100
        },
        // 当vue创建完成后
        mounted: function () {
            //封装vue对象
            var apps = this;
            if (apps.pattern9 == true) {
                apps.ColumnHeight = 0;
                apps.clientWidth = 0;
                apps.NineHigh = 100;
                apps.NineWide = 100;
            }
            if (apps.patternL == true) {
                apps.NineHigh = 0;
                apps.NineWide = 0;
                apps.ColumnHeight = 100;
                apps.clientWidth = 100;
            }

            //定时查询屏幕尺寸
            setInterval(function () {
                apps.PageSizeH = apps.widowH();
                apps.PageSizeW = apps.widowW();
            }, 500);
        },
        // 方法 widowW 得到body 的宽度 ，widowH 得到body的高度,getCookie得到cookie
        methods: {
            widowW: function () {
                return document.body.clientWidth;
            },
            widowH: function () {
                return document.body.clientHeight;
            }
        },
        //监听  PageSizeH 监听高度的变化 ，PageSizeW 监听宽度的变化
        watch: {
            PageSizeH: function (val, oldVal) {
                console.log('new: %s, old: %s', val, oldVal)
            },
            PageSizeW: function (val, oldVal) {
                //封装vue对象
                var apps = this;
                //监听有可能会监听到0 排除0的情况
                if (oldVal != 0) {
                    // 宽屏（预览界面关闭）
                    if (val > oldVal) {
                        //--------------这一套是改变九宫格
                        apps.Total = 6;
                        apps.pageWidth = 16.6;
                        apps.ruto = false;
                        apps.ruto = true;
                        //--------------这一套是改变九宫格
                    }
                    //集屏（预览界面打开）
                    if (val < oldVal) {
                        //--------------这一套是改变九宫格
                        apps.Total = 5;
                        apps.pageWidth = 20;
                        apps.ruto = false;
                        apps.ruto = true;
                        //--------------这一套是改变九宫格
                    }
                    //输出屏尺
                    console.log('new: %s, old: %s', val, oldVal)
                } else {
                    //输出屏尺
                    console.log('new: %s, old: %s', val, oldVal)
                }
            }
        }

    });
    // console.log("client",document.body.clientWidth,document.body.clientHeight);
</script>

</html>